{% extends 'base.html' %}

{% block title %}Loading – PubTrends{% endblock %}
{% block meta_description %}Preparing your PubTrends analysis…{% endblock %}
{% set active_page = None %}

{% block styles_extra %}
<style>
    .progress-bar.indeterminate {
        position: relative;
        animation: progress-indeterminate 3s linear infinite;
    }

    @keyframes progress-indeterminate {
        from {
            left: -25%;
            width: 25%;
        }
        to {
            left: 100%;
            width: 25%;
        }
    }
</style>
{% endblock %}

{% block content %}
<section class="pt-hero p-5 mb-4">
    <h1 class="h4 mb-2">Initializing</h1>
    <p>
    <div class="progress" style="position: relative; height: 1.25rem;">
        <div class="progress-bar progress-bar-striped indeterminate"></div>
    </div>
    <div class="mt-3">
        <p class="mb-1">{{ message }}</p>
    </div>
    </p>
    <div class="d-flex gap-2">
        <a class="btn btn-outline-secondary" href="about.html">Learn more</a>
    </div>
</section>
{% endblock %}

{% block scripts_extra %}
<script>
    "use strict";
    const TIMEOUT = 20000; // 20 seconds
    window.addEventListener('DOMContentLoaded', function () {
        setTimeout(function () {
            window.location.replace('/');
        }, TIMEOUT);
    });
</script>
{% endblock %}
